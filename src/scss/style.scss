/* Core stylesheet file for jquery-nested-carousal */
/* Resolving import definitions */

@import "../../bower_components/bourbon/app/assets/stylesheets/bourbon";
@import './partials/_variables'; // colors, fonts etc...
@import './partials/_mixins'; // custom mixins
@import './partials/_layout'; // responsive grid and media queries

.ns-horizontal-timeline {
  div,ol,ul,li,span,p{
    margin: 0;
    padding: 0;
    border: 0;

    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
  }

  ol,ul{
    list-style: none;
  }
  .hidden{
    visibility: hidden;
  }
  .timeline {
    position: relative;
    font-size: 12px;

    height: 110px;
    margin: 0 auto;

    .list-wrapper {
      .list{
        white-space: nowrap;
        overflow: hidden;
        margin: 0 40px;
        position: relative;
        .outer-nodes-container{
          @include transition(transform 0.6s ease);
          height: 100%;
          position: relative;
          & > .outer-node{
            display: inline-block;
            vertical-align: middle;
            text-align: center;
            position: relative;
            box-sizing: border-box;
            padding: 5px 10px;
            cursor: pointer;
            border: 1px solid gray;
            .outer-list-name{
              font-weight: bold;
              height: 32px;
              line-height: 16px;
              overflow: hidden;
              margin: 0 auto;
              text-overflow: ellipsis;
              white-space: normal;
              &:after {
                content: "";
                height: 100%;
                display: inline-block;
                vertical-align: middle;
              }
              p{
                display: inline-block;
                display: -webkit-inline-box;
                max-height: 100%;
                vertical-align: middle;
                -webkit-box-orient: vertical;
                -webkit-line-clamp: 2;
              }
            }
            .inner-selected-name{
              color: $color-2;
              font-weight: bold;
              font-size: 14px;
              height: 32px;
              line-height: 16px;
              overflow: hidden;
              margin: 0 auto;
              text-overflow: ellipsis;
              white-space: normal;
              &:after {
                content: "";
                height: 100%;
                display: inline-block;
                vertical-align: middle;
              }
              p{
                display: inline-block;
                display: -webkit-inline-box;
                max-height: 100%;
                vertical-align: middle;
                -webkit-box-orient: vertical;
                -webkit-line-clamp: 2;
              }
            }
            &:not(.selected) {
              opacity: 0.4;
              margin: 0 10px;
              .inner-selected-name {
                display: none;
              }
            }

            &.selected{
              min-width: 200px;
              background-color: #E2E2E2;
              @include transition(transform 0.6s ease 0.1s);
              height: 100px;
              margin: 5px 10px;
              transform: scale(1.08);
            }
            & > .inner-nodes-container > .inner-node {
              display: inline-block;
              & > a {
                &::after {
                  content: '';
                  border: 2px solid gray;
                  border-radius: 50%;
                  height: 10px;
                  width: 10px;
                  display: inline-block;
                  margin: 6px;
                }
                @each $state,$color in $state-colors {
                  &.#{$state}::after{
                    background-color: $color;
                  }
                }
              }
              &.selected > a::after {
                background-color: $color-2;
              }
            }
          }
        }
      }
    }


    .ns-timeline-navigation a {
      /* these are the left/right arrows to navigate the timeline */
      position: absolute;
      z-index: 1;
      @include center(y);
      height: 34px;
      width: 34px;
      border-radius: 50%;
      border: 2px solid darken($color-4, 10%);
      /* replace text with an icon */
      overflow: hidden;
      color: transparent;
      text-indent: 100%;
      white-space: nowrap;
      @include transition(border-color .3s);

      &::after {
        /* arrow icon */
        content: '';
        position: absolute;
        height: 16px;
        width: 16px;
        @include center;
        background: url(../assets/img/cd-arrow.svg) no-repeat 0 0;
      }

      &.prev {
        left: 0;
        @include transform(translateY(-50%) rotate(180deg));
      }

      &.next {
        right: 0;
      }

      &:hover {
        border-color: $color-2;
      }

      &.inactive {
        cursor: not-allowed;

        &::after {
          background-position: 0 -16px;
        }

        &:hover {
          border-color: darken($color-4, 10%);
        }
      }
    }
  }
}